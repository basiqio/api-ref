openapi: 3.0.1
info:
  title: Payments
  description: |
    All endpoints related to Basiq's payments offering
  version: '3.0'
  termsOfService: 'https://docs.basiq.io/en/collections/440849-privacy-terms-and-common-questions'
servers:
  - url: https://au-api.basiq.io/
tags:
  - name: Payment Agreements
    description: API for Payment agreements
  - name: Collect
    description: APIs for collecting funds
  - name: Send 
    description: APIs for sending funds
  - name: Float accounts
    description: APIs for querying float accounts
paths:
# agreements
  /payments/agreements/instructions/validation:
    post:
      tags:
        - Payment Agreements
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      summary: Validate agreement
      operationId: validateAgreement
      requestBody:
        $ref: '#/components/requestBodies/agreement-validation-creation'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Agreement Validation Request:
                  value:
                    type: job
                    id: b1824ad0-73f1-0138-3700-0a58a9feac09
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                      agreement-instruction: https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09
  /payments/agreements/instructions/creation:
    post:
      tags:
        - Payment Agreements
      summary: Create agreement
      operationId: createAgreement
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      requestBody:
        $ref: '#/components/requestBodies/agreement-validation-creation'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Agreement Request:
                  value:
                    type: job
                    id: b1824ad0-73f1-0138-3700-0a58a9feac09
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                      agreement-instruction: https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09
  /payments/agreements/{id}/instructions/status:
    post:
      tags:
        - Payment Agreements
      summary: Amend agreement
      operationId: amendAgreementStatus
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: id
          in: path
          description: Agreement Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'      
      requestBody:
        $ref: '#/components/requestBodies/agreement-status'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Agreement Validation Request:
                  value:
                    type: job
                    id: b1824ad0-73f1-0138-3700-0a58a9feac09
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09/ 
                      agreement-instruction: https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09
  /payments/agreements/{id}/instructions/amendment:
    post:
      tags:
        - Payment Agreements
      summary: Amend agreement status
      operationId: amendAgreement
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow) 
      parameters:
        - name: id
          in: path
          description: Agreement Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'      
      requestBody:
        $ref: '#/components/requestBodies/agreement-validation-creation'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Agreement Validation Request:
                  value:
                    type: job
                    id: b1824ad0-73f1-0138-3700-0a58a9feac09
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09/ 
                      agreement-instruction: https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09
  /payments/agreements/instructions/{id}/recall/:
    post:
      tags:
        - Payment Agreements
      summary: Recall a pending agreement instruction
      operationId: recallAgreementInstruction
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: id
          in: path
          description: Instruction Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'      
        - name: requestId
          in: query
          description: Request Id
          required: true
          schema:
            type: string
            default: '01824ad0-73f1-0138-3700-0a58a9feac09'
          example: '01824ad0-73f1-0138-3700-0a58a9feac09'      
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Agreement Validation Request:
                  value:
                    type: job
                    id: b1824ad0-73f1-0138-3700-0a58a9feac09
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09/
                      agreement-instruction: https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09
  /payments/agreements/instructions/{instructionId}:
    get:
      tags:
        - Payment Agreements
      summary: Get payment agreement instruction
      operationId: getPaymentAgreementInstruction
      description: > 
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: instructionId
          in: path
          description: Instruction Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '404':
          description: not found
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreement-instruction'
              examples:
                Validated-successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-validation'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: null
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'successful'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09" 
                      payment-agreement: null
                Validation-Failed:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-validation'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: null
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason: 
                        code: 'payer-account-not-enabled'
                        title: 'Payer account is not enabled.'
                        detail: 'The payer account is not enabled/reachable for this type of agreement.'                        
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"    
                      payment-agreement: null
                Validated-InProgress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-validation'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: null
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09" 
                      payment-agreement: null                      
                Creation-inprogress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: null
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement: null
                Creation-successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: null
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'successful'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement: null
                Creation Failed:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: null
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason: 
                        code: 'payer-account-not-enabled'
                        title: 'Payer account is not enabled.'
                        detail: 'The payer account is not enabled/reachable for this type of agreement.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: null
                Status Suspend inprogress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-status'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                      changeStatusTo: 'suspend'
                      changeStatusReason: 'narrative'
                      changeStatusDescription: 'Customer has paused their subscription' 
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'                      
                Status Suspend successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-status'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'successful'
                      changeStatusTo: 'suspend'
                      changeStatusReason: 'narrative'
                      changeStatusDescription: 'Customer has paused their subscription' 
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Status Suspend Failed:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-status'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason: 
                        code: 'payment-agreement-status-conflict'
                        title: 'Payment agreement status conflict.'
                        detail: 'The payment agreement cannot be updated to Suspended because it is in the status Suspended.'
                      changeStatusTo: 'suspend'
                      changeStatusReason: 'narrative'
                      changeStatusDescription: 'Customer has paused their subscription' 
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Amendment-inprogress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                      description: 'Mortgage payments agreement for propery 1 Somewhere St, Manly' 
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Amendment-successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'successful'
                      description: 'Mortgage payments agreement for propery 1 Somewhere St, Manly' 
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Recall-successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'successful'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Recall-inprogress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agrrement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
  /payments/agreements/instructions/:
    get:
      tags:
        - Payment Agreements
      summary: List payment agreement instructions
      operationId: listPaymentAgreementInstructions
      description: > 
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: limit
          in: query
          description: 'Maximum number of items included in the response. Max value = 500 and is the default value if this field is not provided'
          style: deepObject
          explode: false
          schema:
            type: integer
          example: '10'
        - name: filter
          in: query
          description: 'Filter field that allows filtering by '
          style: deepObject
          explode: false
          schema:
            type: string
          example: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreement-instructions'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 2
                    size: 2
                    data:
                      - type: 'payment-agreement-validation'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: null
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'successful'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          payId: null
                          payIdType: null
                          payIdName: null
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payId: null
                          payIdType: null
                          bankBranchCode: "730002"
                          accountNumber: "123456789"
                          name: "Gavin"
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09" 
                          payment-agreement: null
                      - type: 'payment-agreement-validation'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: null
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason: 
                          code: 'payer-account-not-enabled'
                          title: 'Payer account is not enabled.'
                          detail: 'The payer account is not enabled/reachable for this type of agreement.'                        
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          payId: null
                          payIdType: null
                          payIdName: null
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payId: null
                          payIdType: null
                          bankBranchCode: "730002"
                          accountNumber: "123456789"
                          name: "Gavin"
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"    
                          payment-agreement: null
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions"
                      next: "https://au-api.basiq.io/payments/agreements/instructions?next=049fde"
  /payments/agreements/{id}:
    get:
      tags:
        - Payment Agreements
      summary: List payment agreement
      operationId: listPaymentAgreements
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: id
          in: path
          description: Agreement Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '404':
          description: not found
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreement'
              examples:
                Active:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'active'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"                  
                Suspended:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'suspended'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"  
                Cancelled:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'cancelled'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        payId: null
                        payIdType: null
                        payIdName: null
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: null
                        payIdType: null
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"                        
      security:
           - payment_apiKey: []      
  /payments/agreements/:
    get:
      tags:
        - Payment Agreements
      summary: Get payment agreement 
      operationId: getPaymentAgreements
      description: > 
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: limit
          in: query
          description: 'Maximum number of items included in the response. Max value = 500 and is the default value if this field is not provided'
          style: deepObject
          explode: false
          schema:
            type: integer
          example: '10'
        - name: filter
          in: query
          description: 'Filter field that allows filtering by user.id'
          style: deepObject
          explode: false
          schema:
            type: string
          example: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreements'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 2
                    size: 2
                    data:
                      - type: 'payment-agreement'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'active'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          payId: null
                          payIdType: null
                          payIdName: null
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payId: null
                          payIdType: null
                          bankBranchCode: "730002"
                          accountNumber: "123456789"
                          name: "Gavin"
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"                  
                      - type: 'payment-agreement'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'suspended'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          payId: null
                          payIdType: null
                          payIdName: null
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payId: null
                          payIdType: null
                          bankBranchCode: "730002"
                          accountNumber: "123456789"
                          name: "Gavin"
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"  
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/"
                      next: "https://au-api.basiq.io/payments/agreements?next=049fde"
  /payments/payrequests:
    post:
      tags:
        - Collect
      summary: Submit payrequests
      operationId: submitPayrequests
      requestBody:
        $ref: '#/components/requestBodies/payrequests'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Single Payment Request:
                  value:
                    jobs:
                      - type: job
                        id: b1824ad0-73f1-0138-3700-0a58a9feac09
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        links:
                          self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Multiple Payment Requests:
                  value:
                    jobs:
                    - type: job
                      id: b1824ad0-73f1-0138-3700-0a58a9feac09
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      links:
                        self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                    - type: job
                      id: c29824ad0-73f1-0138-3700-0a58a9feac10
                      requestId: 12824ad0-73f1-0138-3700-0a58a9feac09
                      links:
                        self: https://au-api.basiq.io/jobs/c29824ad0-73f1-0138-3700-0a58a9feac10
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid amount:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: Amount value is not valid.
                      source:
                        pointer: '/payrequests[0]/amount'
                Invalid payerBankBranchCode:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: payerBankBranchCode is not valid.
                      source:
                        pointer: '/payrequests[0]/payerBankBranchCode'
                Invalid payerAccountNumber:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: payerAccountNumber is not valid.
                      source:
                        pointer: '/payrequests[0]/payerAccountNumber'
                Duplicate request:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: resource-already-exists
                      title: Resource already exists.
                      detail: A resource with the same Request ID already exists.
                      source:
                        pointer: '/payrequests[0]/requestId'
                Duplicate request within the same message:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: resource-already-exists
                      title: Resource already exists.
                      detail: A resource with the same Request ID already exists in this request.
                      source:
                        pointer: '/payrequests[0]/requestId'
                Bulk limit exceeded:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: maximum-count-exceeded
                      title: Maximum count exceeded.
                      detail: The request has exceeded the maximum count.
                      source: null
                Payments not enabled:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: payments-not-enabled
                      title: Payments not enabled.
                      detail: Payments not enabled for this application.
                      source: null
                Invalid content:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: invalid-content
                      title: Invalid request content.
                      detail: Posted requests data is not in valid format.
                      source: null
      security:
          - payment_apiKey: []
    get:
      tags:
        - Collect 
      summary: List payrequests
      operationId: listPayrequests
      parameters:
        - name: limit
          in: query
          description: 'Maximum number of payment requests included in the response. Max value = 500 and is the default value if this field is not provided'
          style: deepObject
          explode: false
          schema:
            type: integer
          example: '10'
        - name: filter
          in: query
          description: 'Filter field that allows filtering by payer.user.id, status, date, amount'
          style: deepObject
          explode: false
          schema:
            type: string
          example: ''
      responses:
        '404':
          description: not found
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payrequests'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 2
                    size: 2
                    data:
                      - type: 'payrequest'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payer:
                          payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payerBankBranchCode: '730002'
                          payerAccountNumber: '123456789'
                          payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Investment'
                        amount: 173.45
                        currency: AUD
                        links:
                          self: '/payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payrequest'
                        id: 'c1024ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: 'a1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payer:
                          payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payerBankBranchCode: '730002'
                          payerAccountNumber: '123456789'
                          payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Investment'
                        amount: 173.45
                        currency: AUD
                        links:
                          self: '/payments/payrequests/c1024ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/c1024ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: "https://au-api.basiq.io/payments/payrequests"
                      next: "https://au-api.basiq.io/payments/payrequests?next=049fde"
      security:
          - payment_apiKey: []
  /payments/payrequests/{id}:
    get:
      tags:
        - Collect 
      summary: Retrieve Payrequest
      operationId: getPayrequest
      parameters:
        - name: id
          in: path
          description: Payment request Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payrequest'
              examples:
                In-progress:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'in-progress'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - User name invalid:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason: 
                      code: 'invalid-user-name'
                      title: 'Invalid user name.'
                      detail: 'The user name must exist and have a valid first name with more than 2 letters and last name with more than 2 letters. Please update the user name details.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Missing payer account details:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason: 
                      code: 'missing-payer-account-details'
                      title: 'Missing Payer account details.'
                      detail: 'Please specify payer account details.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09                      
                Failed - External provider unreachable:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason: 
                      code: 'external-provider-unreachable'
                      title: 'External provider unreachable.'
                      detail: 'Unable to reach downstream provider.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Payment transaction limit reached:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason: 
                      code: 'transaction-limit-reached'
                      title: 'Transaction limit reached.'
                      detail: 'The transaction amount exceeds the allowed limit. Please contact support.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Daily limit reached:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason: 
                      code: 'daily-limit-reached'
                      title: 'Daily limit reached.'
                      detail: 'The transaction amount exceeds the daily processing allowed limit. Please contact support.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09                      
        '404':
          description: Payment request not found
  /payments/payouts:
    post:
      tags:
        - Send 
      summary: Submit payouts
      operationId: submitPayouts
      requestBody:
        $ref: '#/components/requestBodies/payouts'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Single Payout:
                  value:
                    jobs:
                      - type: job
                        id: b1824ad0-73f1-0138-3700-0a58a9feac09
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        links:
                          self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Multiple Payouts:
                  value:
                    jobs:
                    - type: job
                      id: b1824ad0-73f1-0138-3700-0a58a9feac09
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      links:
                        self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                    - type: job
                      id: c29824ad0-73f1-0138-3700-0a58a9feac10
                      requestId: 12824ad0-73f1-0138-3700-0a58a9feac09
                      links:
                        self: https://au-api.basiq.io/jobs/c29824ad0-73f1-0138-3700-0a58a9feac10
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid amount:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      title: Parameter not valid.
                      code: parameter-not-valid
                      detail: Amount value is not valid.
                      source:
                        pointer: '/payouts[0]/amount'
                Multiple invalid:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      title: Parameter not valid.
                      code: parameter-not-valid
                      detail: Amount value is not valid.
                      source:
                        pointer: '/payouts[0]/amount'
                    - id: '12824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      title: Parameter not valid.
                      code: parameter-not-valid
                      detail: Amount value is not valid.
                      source:
                        pointer: '/payouts[1]/amount'
                Invalid payeeBankBranchCode:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: payeeBankBranchCode is not valid.
                      source:
                        pointer: '/payouts[0]/payeeBankBranchCode'
                Invalid payeeAccountNumber:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: payeeAccountNumber is not valid.
                      source:
                        pointer: '/payouts[0]/payeeAccountNumber'
                Invalid payout method:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: method is not valid.
                      source:
                        pointer: '/payouts[0]/method'
                Duplicate request:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: resource-already-exists
                      title: Resource already exists.
                      detail: A resource with the same Request ID already exists.
                      source:
                        pointer: '/payouts[0]/requestId'
                Duplicate request within the same message:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: resource-already-exists
                      title: Resource already exists.
                      detail: A resource with the same Request ID already exists in this request.
                      source:
                        pointer: '/payouts[0]/requestId'
                Bulk limit exceeded:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: maximum-count-exceeded
                      title: Maximum count exceeded.
                      detail: The request has exceeded the maximum count.
                Payments not enabled:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: payments-not-enabled
                      title: Payments not enabled.
                      detail: Payments not enabled for this application.
                Invalid content:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: invalid-content
                      title: Invalid request content.
                      detail: Posted requests data is not in valid format.
                      source: null                      
  /payments/payouts/:
    get:
      tags:
        - Send 
      summary: List payouts
      operationId: listPayouts
      parameters:
        - name: limit
          in: query
          description: 'Maximum number of payouts included in the response. Max value = 500 and is the default value if this field is not provided'
          style: deepObject
          explode: false
          schema:
            type: integer
          example: '10'
        - name: filter
          in: query
          description: 'Filter field that allows filtering by payer.user.id, status, date, amount'
          style: deepObject
          explode: false
          schema:
            type: string
          example: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payouts'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 2
                    size: 2
                    data:
                      - type: 'payout'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payee:
                          payeeUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payeeBankBranchCode: '730002'
                          payeeAccountNumber: '123456789'
                          payeeAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Dividends'
                        amount: 173.45
                        currency: AUD
                        links:
                          self: '/payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payout'
                        id: 'c1024ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: 'a1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payer:
                          payeeUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payeeBankBranchCode: '730002'
                          payeeAccountNumber: '123456789'
                          payeeAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Dividends'
                        amount: 200.45
                        currency: AUD
                        links:
                          self: '/payments/payouts/c1024ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/c1024ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: "https://au-api.basiq.io/payments/payouts"
                      next: "https://au-api.basiq.io/payments/payouts?next=049fde"
  /payments/payouts/{id}:
    get:
      tags:
        - Send 
      summary: Retrieve Payout
      operationId: getPayout
      parameters:
        - name: id
          in: path
          description: Payout Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payout'
              examples:
                In-progress:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'in-progress'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeAccountId: '6466df03-b80c-489a-afec-ea8c5f0af875'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - User name invalid:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason: 
                      code: 'invalid-user-name'
                      title: 'Invalid user name.'
                      detail: 'The user name must exist and have a valid first name with more than 2 letters and last name with more than 2 letters. Please update the user name details.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Missing payer account details:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason: 
                      code: 'missing-payer-account-details'
                      title: 'Missing Payer account details.'
                      detail: 'Please specify payer account details.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - External provider unreachable:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason: 
                      code: 'external-provider-unreachable'
                      title: 'External provider unreachable.'
                      detail: 'Unable to reach downstream provider.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Payment transaction limit reached:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason: 
                      code: 'transaction-limit-reached'
                      title: 'Transaction limit reached.'
                      detail: 'The transaction amount exceeds the allowed limit. Please contact support.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Daily limit reached:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason: 
                      code: 'daily-limit-reached'
                      title: 'Daily limit reached.'
                      detail: 'The transaction amount exceeds the daily processing allowed limit. Please contact support.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
        '404':
          description: Payout not found    
  /payments/float-accounts/{id}:
    get:
      tags:
        - Float accounts
      summary: Retrieve Float account
      operationId: getFloatAccount
      parameters:
        - name: id
          in: path
          description: Float Account Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '404':
          description: Float account not found
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/floataccount'
              examples:
                response:
                  value:
                    type: 'floataccount'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    bankBranchCode: '802919'
                    accountNumber: '1748212'
                    availableBalance: 10000.00
                    status: 'active'
                    links:
                      self: /payments/float-accounts/b1824ad0-73f1-0138-3700-0a58a9feac09
  /payments/float-accounts/:
    get:
      tags:
        - Float accounts
      summary: List float accounts
      operationId: listFloatAccounts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/floataccounts'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 1
                    size: 1
                    data:
                      - type: 'floataccount'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        bankBranchCode: '802919'
                        accountNumber: '1748212'
                        availableBalance: 10000.00
                        status: 'active'
                        links:
                          self: /payments/float-accounts/b1824ad0-73f1-0138-3700-0a58a9feac09
                    links:
                      self: /payments/float-accounts/
components:
  parameters:
    method:
      name: paymentTypeMethod
      in: query
      description: 'The method the payment will be/was carried out with.'
      required: false
      style: form
      explode: true
      schema:
        type: string
        enum:
          - batch
          - fast
  schemas:
    agreement-instruction:
      type: object
      properties:
        type:
          description: type of the object within Basiq platform
          type: string
          example: 'payment-agreement-validation'
        id:
          description: Id of the agreement
          type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '01824ad0-73f1-0138-3700-0a58a9feac09'
        agreementId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '12824ad0-73f1-0138-3700-0a58a9feac12'
        relatedInstructionId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '34924ad0-73f1-0138-3700-0a58a9feac34'
        created:
          description: date and time in ISO format of when the instruction was created 
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the instruction was updated 
          type: string
          format: date-time
        status:
          type: string
        reason:
          type: object
          description: 'Details for the reason for failure' 
          properties:
            code:
              type: string
              description: 'Reason code for the failed payment'
            title:
              type: string
              description: 'Title of the reason code for the failed payment (short description)'
            detail:
              type: string
              description: 'Further details/description for the failed/rejected/returned payment'

        payer:
          type: object
          required:
            - payerUserId
            - payerType
            - ultimatePayerName
          properties:
            userId:
              description: 'User Id of the payer'
              type: string
              example: '21824ad0-73f1-0138-3700-0a58a9feac09'
            accountId:
              description: 'ID of the account as stored within Basiq'
              type: string
              example: "31824ad0-73f1-0138-3700-0a58a9feac09"
            payId:
              description: 'The Pay ID of the payer user'
              type: string
            payIdType:
              description: 'Type of the Pay ID being used'
              type: string
              enum:
                - phone-number
                - email
                - business-number
                - organisation-id
            payIdName:
              description: 'Name associated with the PayID as retrieved from the lookup'
              type: string
            bankBranchCode:
              description: 'Bank and branch code (e.g. bsb) of the account'
              type: string
              example: "730002"
            accountNumber:
              description: 'Payer account number'
              type: string
              example: "123456789"
            type:
              description: 'Identifies the type of the payer'
              type: string
              enum:
                - person
                - organisation
            ultimatePayerName:
              description: 'Name of the ultimate payer'
              type: string
        payee:
          type: object
          required:
            - type
            - ultimatePayeeName
    agreement-instructions:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/agreement-instruction'
        links:
          type: object
          properties:
            self:
              type: string
            next: 
              type: string
    agreements:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/agreement'
        links:
          type: object
          properties:
            self:
              type: string
            next: 
              type: string
    agreement:
      type: object
      properties:
        type:
          description: type of the object within Basiq platform
          type: string
          example: 'payment-agreement'
        id:
          description: Id of the agreement
          type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '01824ad0-73f1-0138-3700-0a58a9feac09'
        payer:
          type: object
          required:
            - payerUserId
            - payerType
            - ultimatePayerName
          properties:
            userId:
              description: 'User Id of the payer'
              type: string
              example: '21824ad0-73f1-0138-3700-0a58a9feac09'
            accountId:
              description: 'ID of the account as stored within Basiq'
              type: string
              example: "31824ad0-73f1-0138-3700-0a58a9feac09"
            payId:
              description: 'The Pay ID of the payer user'
              type: string
            payIdType:
              description: 'Type of the Pay ID being used'
              type: string
              enum:
                - phone-number
                - email
                - business-number
                - organisation-id
            payIdName:
              description: 'Name associated with the PayID as retrieved from the lookup'
              type: string
            bankBranchCode:
              description: 'Bank and branch code (e.g. bsb) of the account'
              type: string
              example: "730002"
            accountNumber:
              description: 'Payer account number'
              type: string
              example: "123456789"
            type:
              description: 'Identifies the type of the payer'
              type: string
              enum:
                - person
                - organisation
            ultimatePayerName:
              description: 'Name of the ultimate payer'
              type: string
        payee:
          type: object
          required:
            - type
            - ultimatePayeeName
    jobs:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/job'
        links:
          type: object
          properties:
            self:
              type: string
            next: 
              type: string
    job:
      type: object
      properties:
        type: 
          type: string
        id:
          type: string
        created:
          description: date and time in ISO format of when the job request was created 
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the job request was updated 
          type: string
          format: date-time
        steps:
          type: array
          items:
            type: object
            properties:
              title:
                type: object
              status:
                type: object
              result:
                type: object
                properties:
                  type:
                    type: string
        links:
          type: object
          properties:
            link:
              type: string
    payrequests:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/payrequest'
        links:
          type: object
          properties:
            self:
              type: string
            next: 
              type: string
    payrequest:
      type: object
      required:
        - type
        - id
        - requestId
        - created
        - updated
        - method
        - status
        - amount
        - currency
        - payer
        - description
      properties:
        type:
          description: Type of the object
          type: string
        id:
          description: Id as assigned by Basiq to uniquely identify the payment
          type: string
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique
          type: string
        created:
          description: date and time in ISO format of when the payment request was created 
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the payment request was updated 
          type: string
          format: date-time
        method:
          description: "method (payment instrument) used associated with the type of payment"
          type: string
          enum:
            - batch
    # fast
        status:
          type: string
        reason:
          type: object
          description: 'Details for the reason for failure' 
          properties:
            code:
              type: string
              description: 'Reason code for the failed payment'
            title:
              type: string
              description: 'Title of the reason code for the failed payment (short description)'
            detail:
              type: string
              description: 'Further details/description for the failed/rejected/returned payment'
        payer:
          type: object
          required: 
            - payerUserId
          properties:
            payerUserId:
              description: 'User Id of the payer'
              type: string
            payerBankBranchCode:
              type: string
            payerAccountNumber:
              type: string
            payerAccountId:
              description: 'Account Id of the payer user'
              type: string
        description:
          description: "Description to appear on the payer's and payee's account"
          type: string
        amount:
          description: 'Amount of the payment. This amount must always be a float value.'
          type: integer
        currency:
          description: 'Currency of the payment.'
          type: string
        links:
          type: object
          properties:
            self: 
              type: string
    payouts:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/payout'
        links:
          type: object
          properties:
            self:
              type: string
            next: 
              type: string
    payout:
      type: object
      required:
        - type
        - id
        - requestId
        - created
        - updated
        - method
        - status
        - amount
        - currency
        - payee
        - description
      properties:
        type:
          description: Type of the object
          type: string
        id:
          description: Id as assigned by Basiq to uniquely identify the payment
          type: string
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique
          type: string
        created:
          description: date and time in ISO format of when the payment request was created 
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the payment request was updated 
          type: string
          format: date-time
        method:
          description: "method (payment instrument) used associated with the type of payment"
          type: string
          enum:
            - batch
            - fast
        status:
          type: string
        reason:
          type: object
          description: 'Details for the reason for failure' 
          properties:
            code:
              type: string
              description: 'Reason code for the failed payment'
            title:
              type: string
              description: 'Title of the reason code for the failed payment (short description)'
            detail:
              type: string
              description: 'Further details/description for the failed/rejected/returned payment'
        payee:
          type: object
          properties:
            payeeUserId:
              type: string
            payeeAccountId:
              type: string
            payeeBankBranchCode:
              type: string
            payeeAccountNumber:
              type: string
        description:
          description: "Description to appear on the payer's and payee's account"
          type: string
        amount:
          description: 'Amount of the payment.'
          type: integer
        currency:
          description: 'Currency of the payment.'
          type: string
        links:
          type: object
          properties:
            self: 
              type: string
    floataccounts:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/floataccount'
        links:
          type: object
          properties:
            self:
              type: string
            next: 
              type: string
    floataccount:
      type: object
      required:
        - type
        - id
        - bankBranchCode
        - accountNumber
        - status
        - availableBalance
      properties:
        type:
          description: Type of the object
          type: string
        id:
          description: Id as assigned by Basiq to uniquely identify the float account
          type: string
        status:
          type: string
        BankBranchCode:
          type: string
        accountNumber:
          type: string
        availableBalance:
          description: 'Balance of the float account.'
          type: number
        links:
          type: object
          properties:
            self: 
              type: string
  requestBodies:
    payrequests:
      content:
        application/json:
          schema:
            type: object
            properties:
              payrequests:
                type: array
                items:
                  type: object
                  required:
                    - requestId
                    - amount
                    - payer
                    - description
                  properties:
                    method:
                      description: payment method used being fast (NPP), batch (DE)
                      type: string
                      enum:
                        - batch
                        - fast
                    requestId:
                      description: Id as assigned by the by the partner application. This needs to be unique
                      type: string
                      example: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    payer:
                      type: object
                      required:
                        - payerUserId
                      properties:
                        payerUserId:
                          description: 'User Id of the payer'
                          type: string
                          example: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        payerBankBranchCode:
                          description: 'Bank and branch code (e.g. bsb) of the account'
                          type: string
                          example: "730002"
                        payerAccountNumber:
                          description: 'Payer account number'
                          type: string
                          example: "123456789"
                    description:
                      description: "Description to appear on the payer's and payee's account."
                      type: string
                      example: 'Investment'
                    amount:
                      description: 'Amount of the payment.'
                      type: number
                      example: '173.45'
                    agreementId:
                      description: 'Id of the agreement to be used. If not specified the default agreement is used if one exists'
                      type: string
                    reference:
                      description: 'Business reference to passed on unchanged'
                      type: string
                    payee:
                      type: object
                      required:
                        - payeeType
                        - ultimatePayeeName
                      properties:
                        payId:
                          description: 'The Pay ID of the payee user'
                          type: string
                        payIdType:
                          description: 'Type of the Pay ID being used'
                          type: string
                          enum:
                            - phone-number
                            - email
                            - business-number
                            - organisation-id
                        bankBranchCode:
                          description: 'Bank and branch code (e.g. bsb) of the account'
                          type: string
                          example: "730002"
                        accountNumber:
                          description: 'Payee account number'
                          type: string
                          example: "123456789"
                        type:
                          description: 'Identifies the type of the payee'
                          type: string
                          enum:
                            - person
                            - organisation
                        ultimatePayeeName:
                          description: 'Name of the ultimate payee'
                          type: string                              
                          
                    collectFundsToFloat:
                      description: 'When passed this value overrides the default setting'
                      type: boolean
                      example: null
                      default: null
                    checkAccountBalance:
                      description: 'When set to true then as part of validating the payrequest the account balance will be checked. If the balance < payrequest amount then it will be rejected'
                      type: boolean
                      example: null
                      default: null
          examples:
            Batch - Single:
              value:
                payrequests:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: 'batch'
                  payer:
                    payerUserId: 21824ad0-73f1-0138-3700-0a58a9feac09
                  description: Investment
                  amount: 173.45
            Batch - Collect to Float:
              value:
                payrequests:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: 'batch'
                  payer:
                    payerUserId: 21824ad0-73f1-0138-3700-0a58a9feac09
#                    payerBankBranchCode: '730002'
#                    payerAccountNumber: '123456789'
                  description: Investment
                  amount: 173.45
                  collectFundsToFloat: true
            Batch - Check Account Balance:
              value:
                payrequests:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: 'batch'
                  payer:
                    payerUserId: 21824ad0-73f1-0138-3700-0a58a9feac09
#                    payerBankBranchCode: '730002'
#                    payerAccountNumber: '123456789'
                  description: Investment
                  amount: 173.45
                  checkAccountBalance: true
            Fast - Single with Payee:
              value:
                paymentInstructions:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: 'fast'
                  agreementId: '44824ad0-73f1-0138-3700-0a58a9feac44'
                  reference: 'INV-001'
                  description: Investment
                  amount: 173.45
                  payee:
                    type: person
                    payId: gavin@gmails.com
                    payIdType: email
                    ultimatePayeeName: 'Gavin'
            Fast - Single without Payee:
              value:
                paymentInstructions:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  type: 'fast'
                  agreementId: '44824ad0-73f1-0138-3700-0a58a9feac44'
                  reference: 'INV-001'
                  description: Investment
                  amount: 173.45
    payouts:
      content:
        application/json:
          schema:
            type: object
            properties:
              payouts:
                type: array
                items:
                  type: object
                  required:
                    - requestId
                    - amount
                    - payee
                    - description
                  properties:
                    requestId:
                      description: Id as assigned by the partner application. This needs to be unique
                      type: string
                      example: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method:
                      description: "method (payment instrument) used associated with the type of payment. This field is optional and when provided overrides the default method specified in configuration"
                      type: string
                      enum:
                        - batch
                        - fast
                        - fast/batch
                    payee:
                      type: object
                      required:
                        - payeeUserId
                        - payeeBankBranchCode
                        - payeeAccountNumber
                      properties:
                        payeeUserId:
                          description: 'Unique identifer of the payee User Id'
                          type: string
                          example: "1d45b7f9-98e9-4f01-a1da-4620c8599ab6"
                        payeeBankBranchCode:
                          description: 'Bank and branch code (e.g. bsb) of the payee account'
                          type: string
                          example: "730002"
                        payeeAccountNumber:
                          description: 'Payee account number'
                          type: string
                          example: "123456789"
                    description:
                      description: "Description to appear on the payer's and payee's account."
                      type: string
                      example: 'Dividends'
                    amount:
                      description: 'Amount of the payment.'
                      type: number
                      example: '173.45'
          examples:
            Batch Payout:
              value:
                payouts:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: batch
                  payee:
                    payeeUserId: 1d45b7f9-98e9-4f01-a1da-4620c8599ab6
                  description: Dividends
                  amount: 173.45
            Fast Payout:
              value:
                payouts:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: fast
                  payee:
                    payeeUserId: 1d45b7f9-98e9-4f01-a1da-4620c8599ab6
                  description: Dividends
                  amount: 173.45
            Fast/Batch Payout:
              value:
                payouts:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: fast/batch
                  payee:
                    payeeUserId: 1d45b7f9-98e9-4f01-a1da-4620c8599ab6
                  description: Dividends
                  amount: 173.45
            Batch Payout with account details:
              value:
                payouts:
                - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  method: batch
                  payee:
                    payeeUserId: 1d45b7f9-98e9-4f01-a1da-4620c8599ab6
                    payeeBankBranchCode: '730002'
                    payeeAccountNumber: '123456789'
                  description: Dividends
                  amount: 173.45
    agreement-validation-creation:
      content:
        application/json:
          schema:
            type: object
            required:
              - requestId
              - payer
    agreement-status:
      content:
        application/json:
          schema:
            type: object
            required:
              - requestId
              - status
            properties:
              requestId:
                description: Id as assigned by the by the partner application for this instruction. This needs to be unique and is used to check duplicates
                type: string
                example: '01824ad0-73f1-0138-3700-0a58a9feac09'
              changeStatusTo:
                type: string
                description: the new status to be used. Suspend an angreement, release a suspended agreement or cancel the agreement
                enum:
                  - cancel
                  - release
                  - suspend
              changeStatusReason:
                type: string
                description: the reason for changing the status
                enum: 
                  - invalid-debtor-account-number
                  - closed-account-number
                  - closed-debtor-account-number
                  - blocked-account
                  - invalid-debtor-account-type
                  - transaction-forbidden
                  - transaction-not-supported
                  - not-allowed-currency
                  - invalid-amount
                  - amount-exceeds-agreed-limit
                  - contract-amended
                  - contract-cancellation-initiated-by-debtor
                  - contract-expired
                  - mandate-suspended-final-collection
                  - mandate-suspended-once-off-collection
                  - end-customer-deceased
                  - no-mandate-service-by-agent
                  - no-mandate-service-on-customer
                  - requested-by-customer
                  - requested-by-initiating-party
                  - mandate-expired
                  - mandate-cancelled-due-to-fraud
                  - not-specified-reason-customer-generated
                  - not-specified-reason-agent-generated
                  - mandate-suspended-7-consecutive-unsuccessful-collections
                  - narrative
                  - no-answer-from-customer
                  - regulatory-reason
                  - specific-service-offered-by-debtor-agent
                  - creditor-not-on-whitelist-of-debtor
                  - creditor-on-blacklist-of-debtor
              changeStatusDescription:
                type: string
                description: narrative text for the reason of changing the status
                  

          examples:

            cancel:
              value:
                requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                status: 'cancel'
                reason: 'EndCustomerDeceased'
                description: 'Customer deceased'

            suspend:
              value:
                requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                status: 'suspend'
                reason: 'RequestedByCustomer'
                description: 'Termination of service by customer'

            release:
              value:
                requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                status: 'release'
                  
  securitySchemes:
    payment_apiKey:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - payment_apiKey: []
x-readme:
  explorer-enabled: true
  proxy-enabled: true
  samples-enabled: true
  samples-languages:
    - curl
    - node
    - ruby
    - javascript
    - python