openapi: 3.0.1
info:
  title: Payments
  description: |
    All endpoints related to Basiq's payments offering
  version: '3.0'
  termsOfService: 'https://docs.basiq.io/en/collections/440849-privacy-terms-and-common-questions'
  license:
    name: Commercial
    url: https://basiq.io
servers:
  - url: https://au-api.basiq.io
tags:
  - name: Payment Agreements
    description: API for Payment agreements
  - name: Collect
    description: APIs for collecting funds
  - name: Send
    description: APIs for sending funds
  - name: Float accounts
    description: APIs for querying float accounts
paths:
  /payments/agreements:
    get: 
      tags:
        - Payment Agreements
      summary: Get payment agreements
      operationId: getPaymentAgreements
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: limit
          in: query
          description: 'Maximum number of items included in the response. Max value = 500 and is the default value if this field is not provided'
          schema:
            type: integer
          example: '2'
        - name: filter
          in: query
          description: 'Filter field that allows filtering agreements by payer user ID, status and date'
          schema:
            type: string
          example: "payer.user.id.eq('21824ad0-73f1-0138-3700-0a58a9feac09')"
        - name: next
          in: query
          description: 'Represents a pagination key that indicates the starting point of the next set of agreement instructions'
          schema:
            type: string
          example: 'RmllbGQxXlZhbHVlMX5GaWVsZDJeVmFsdWUy'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreements'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 2
                    size: 2
                    data:
                      - type: 'payment-agreement'
                        id: 'fcbbfed9-e476-4b91-89d2-053b5f9c567c'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:29:22.378Z'
                        updated: '2022-03-21T20:29:22.378Z'
                        status: 'active'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          bankBranchCode: "730002"
                          accountNumber: "123456789"
                          name: "Gavin"
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/fcbbfed9-e476-4b91-89d2-053b5f9c567c"
                          payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/fcbbfed9-e476-4b91-89d2-053b5f9c567c/instructions"
                      - type: 'payment-agreement'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'suspended'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          bankBranchCode: "730002"
                          accountNumber: "123456789"
                          name: "Gavin"
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"
                    links:
                      self: "https://au-api.basiq.io/payments/agreements?limit=2&filter=payer.user.id.eq('21824ad0-73f1-0138-3700-0a58a9feac09')&next=RmllbGQxXlZhbHVlMX5GaWVsZDJeVmFsdWUy"
                      next: "https://au-api.basiq.io/payments/agreements?limit=2&filter=payer.user.id.eq('21824ad0-73f1-0138-3700-0a58a9feac09')&next=U29tZXRoaW5nM15PdGhlcjN-U29tZXRoaW5nNF5PdGhlcjQ="
        '404':
          description: Resource Not Found.
  /payments/agreements/{id}:
    get:
      tags:
        - Payment Agreements
      summary: Get payment agreement
      operationId: getPaymentAgreement
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: id
          in: path
          description: Agreement Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreement'
              examples:
                Active | Payee details included:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'active'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"
                Active | No payee details:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'active'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"
                Suspended | Payee details included:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'suspended'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"
                Suspended | No payee details:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'suspended'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"
                Cancelled | Payee details included:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'cancelled'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: "730002"
                        accountNumber: "123456789"
                        name: "Gavin"
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"
                Cancelled | No payee details:
                  value:
                    agreement:
                      type: 'payment-agreement'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'cancelled'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 2010.50
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement-instructions: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09/instructions"
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid agreement id:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Invalid request content
                        code: invalid-content
                        detail: Agreement ID value is not valid.
                        source: null
                Invalid filter:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Parameter value is not valid
                        code: parameter-not-valid
                        detail: The provided filter parameter is in invalid format or unsupported
                        source:
                          parameter: 'filter'
                Invalid next:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Parameter value is not valid
                        code: parameter-not-valid
                        detail: Invalid query parameter value
                        source:
                          parameter: 'next'
                Invalid limit:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Parameter value is not valid
                        code: parameter-not-valid
                        detail: Limit value is not valid
                        source:
                          parameter: 'limit'
        '404':
          description: not found
  /payments/agreements/{id}/instructions:
    get:
      tags:
        - Payment Agreements
      summary: Get agreement instructions
      operationId: getPaymentAgreementInstructions
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: id
          in: path
          description: 'Agreement id'
          required: true
          style: simple
          explode: false
          schema:
            type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
        - name: limit
          in: query
          description: 'Maximum number of payment agreement instructions to be included in the response.'
          style: deepObject
          explode: false
          schema:
            type: integer
          example: 24
        - name: filter
          in: query
          description: 'Allows filtering by instruction type, status or date'
          style: deepObject
          explode: false
          schema:
            type: string
          example: "instruction.date.eq('2022-03-21')"
        - name: next
          in: query
          description: 'Represents a pagination key that indicates the starting point of the next set of agreement instructions'
          style: deepObject
          explode: false
          schema:
            type: string
          example: 'RmllbGQxXlZhbHVlMX5GaWVsZDJeVmFsdWUy'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreement-instructions'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 24
                    size: 24
                    data:
                      - type: 'payment-agreement-creation'
                        id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:29:22.378Z'
                        updated: '2022-03-21T20:29:22.378Z'
                        status: 'successful'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          bankBranchCode: '730002'
                          accountNumber: '123456789'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 100.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                          job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-creation'
                        id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:29:22.378Z'
                        updated: '2022-03-21T20:32:22.378Z'
                        status: 'failed'
                        reason: 
                          title: 'Payer PayID type and value mismatch'
                          code: 'payer-payid-type-value-mismatch'
                          detail: 'Payer PayID value does not match the type specified.'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payIdType: 'phone-number'
                          payId: 'abc@basiq.io'
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payIdType: 'email'
                          payId: 'john.smith@somewhere.io'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                          job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-creation'
                        id: '148d47d1-11cd-40ef-bff1-5249a6ba0ee9'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:29:22.378Z'
                        status: 'failed'
                        reason:
                          title: 'Payee PayID type and value mismatch'
                          code: 'payee-payid-type-value-mismatch'
                          detail: 'Payee PayID value does not match the type specified.'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payIdType: 'phone-number'
                          payId: 'abc@basiq.io'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          job: "https://au-api.basiq.io/jobs/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-creation'
                        id: '148d47d1-11cd-40ef-bff1-5249a6ba0ee9'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:27:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          title: 'Invalid bank account details'
                          code: 'invalid-bank-account'
                          detail: 'The payee bank account details are incorrect.'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payIdType: 'email'
                          payId: 'abc@basiq.io'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          job: "https://au-api.basiq.io/jobs/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-creation'
                        id: '148d47d1-11cd-40ef-bff1-5249a6ba0ee9'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:27:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          title: 'Fraud check rejection'
                          code: 'fraud-check-rejection'
                          detail: 'Request rejected due to fraud check.'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payIdType: 'email'
                          payId: 'abc@basiq.io'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          job: "https://au-api.basiq.io/jobs/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-creation'
                        id: '148d47d1-11cd-40ef-bff1-5249a6ba0ee9'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:26:22.378Z'
                        updated: '2022-03-21T20:27:22.378Z'
                        status: 'failed'
                        reason:
                          title: 'Payer bank cannot process fast payments'
                          code: 'payer-bank-cannot-process-fast-payments'
                          detail: 'The payer account cannot process fast payments.'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          bankBranchCode: '802950'
                          accountNumber: '11213322'
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          payIdType: 'email'
                          payId: 'abc@basiq.io'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          job: "https://au-api.basiq.io/jobs/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-creation'
                        id: '148d47d1-11cd-40ef-bff1-5249a6ba0ee9'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:26:22.378Z'
                        updated: '2022-03-21T20:27:22.378Z'
                        status: 'failed'
                        reason:
                          title: 'Payee bank cannot process fast payments'
                          code: 'payee-bank-cannot-process-fast-payments'
                          detail: 'The payee bank cannot process fast payments.'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: '9bb8eae0-4215-4f2a-a79a-cc25f797679e'
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          bankBranchCode: '802950'
                          accountNumber: '11213322'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          job: "https://au-api.basiq.io/jobs/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-creation'
                        id: '148d47d1-11cd-40ef-bff1-5249a6ba0ee9'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:26:22.378Z'
                        updated: '2022-03-21T20:27:22.378Z'
                        status: 'failed'
                        reason:
                          title: 'Payee account cannot receive fast payments'
                          code: 'payee-account-cannot-receive-fast-payments'
                          detail: 'The payee account cannot receive fast payments.'
                        payer:
                          userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          accountId: '9bb8eae0-4215-4f2a-a79a-cc25f797679e'
                          type: 'person'
                          ultimatePayerName: 'John'
                        payee:
                          bankBranchCode: '802950'
                          accountNumber: '11213322'
                          name: 'Gavin'
                          type: 'person'
                          ultimatePayeeName: 'Gavin'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        paymentTerms:
                          maximumAmount: 2010.50
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          job: "https://au-api.basiq.io/jobs/148d47d1-11cd-40ef-bff1-5249a6ba0ee9"
                          payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      - type: 'payment-agreement-amendment'
                        id: '48777765-231b-4cb8-9430-98881b1b6a55'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2000-01-01T12:00:00Z'
                        updated: '2000-01-01T12:00:00Z'
                        status: 'successful'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        payer:
                          name: 'Gavin Belson'
                          type: 'person'
                          ultimatePayerName: 'Gavin Belson'
                          userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                          payId: 'abc@test.com'
                          payIdType: 'email'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        links:
                          self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                          job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-amendment'
                        id: '48777765-231b-4cb8-9430-98881b1b6a55'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2000-01-01T12:00:00Z'
                        updated: '2000-01-01T12:00:00Z'
                        status: 'failed'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        reason:
                          title: 'Payee account cannot receive fast payments'
                          code: 'payee-account-cannot-receive-fast-payments'
                          detail: 'The payee account cannot receive fast payments.'
                        payer:
                          name: 'Gavin Belson'
                          type: 'person'
                          ultimatePayerName: 'Gavin Belson'
                          userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                          payId: 'abc@test.com'
                          payIdType: 'email'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        links:
                          self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                          job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-amendment'
                        id: '48777765-231b-4cb8-9430-98881b1b6a55'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2000-01-01T12:00:00Z'
                        updated: '2000-01-01T12:00:00Z'
                        status: 'failed'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        reason:
                          title: 'Invalid bank account details'
                          code: 'invalid-bank-account'
                          detail: 'The account provided does not belong to the specified bank.'
                        payer:
                          name: 'Gavin Belson'
                          type: 'person'
                          ultimatePayerName: 'Gavin Belson'
                          userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                          payId: 'abc@test.com'
                          payIdType: 'email'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        links:
                          self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                          job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-amendment'
                        id: '48777765-231b-4cb8-9430-98881b1b6a55'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2000-01-01T12:00:00Z'
                        updated: '2000-01-01T12:00:00Z'
                        status: 'failed'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        reason:
                          title: 'Payee bank cannot process fast payments'
                          code: 'payee-bank-cannot-process-fast-payments'
                          detail: 'The payee bank cannot process fast payments.'
                        payer:
                          name: 'Gavin Belson'
                          type: 'person'
                          ultimatePayerName: 'Gavin Belson'
                          userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                          payId: 'abc@test.com'
                          payIdType: 'email'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        links:
                          self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                          job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-amendment'
                        id: '48777765-231b-4cb8-9430-98881b1b6a55'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2000-01-01T12:00:00Z'
                        updated: '2000-01-01T12:00:00Z'
                        status: 'failed'
                        agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        reason:
                          title: 'Fraud check rejection'
                          code: 'fraud-check-rejection'
                          detail: 'Request rejected due to fraud check.'
                        payer:
                          name: 'Gavin Belson'
                          type: 'person'
                          ultimatePayerName: 'Gavin Belson'
                          userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                          payId: 'abc@test.com'
                          payIdType: 'email'
                        shortDescription: 'Manly investment property'
                        description: 'Mortgage repayments for Manly investment property'
                        purpose: 'mortgage-payments'
                        links:
                          self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                          job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-status'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'successful'
                        changeStatusTo: 'suspend'
                        changeStatusReason: 'narrative'
                        changeStatusDescription: 'Customer has paused their subscription'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-status'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          code: 'invalid-agreement-status-transition'
                          title: 'Invalid agreement status transition.'
                          detail: 'The agreement status can not be updated from suspended to suspended.'
                        changeStatusTo: 'suspend'
                        changeStatusReason: 'narrative'
                        changeStatusDescription: 'Customer has paused their subscription'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-status'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          code: 'invalid-agreement-status-transition'
                          title: 'Invalid agreement status transition.'
                          detail: 'The agreement status can not be updated from cancelled to suspended.'
                        changeStatusTo: 'suspend'
                        changeStatusReason: 'narrative'
                        changeStatusDescription: 'Customer has paused their subscription'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payment-agreement-recall'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'successful'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                      - type: 'payment-agreement-recall'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          code: 'agreement-business-validate-error'
                          title: 'Agreement business validate error'
                          detail: 'The instruction is complete and cannot be recalled.'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                      - type: 'payment-agreement-recall'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          code: 'agreement-business-validate-error'
                          title: 'Agreement business validate error'
                          detail: 'Instruction not found'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                      - type: 'payment-agreement-recall'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          code: 'agreement-business-validate-error'
                          title: 'Agreement business validate error'
                          detail: 'Internal server error'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                      - type: 'payment-agreement-recall'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          code: 'agreement-business-validate-error'
                          title: 'Agreement business validate error'
                          detail: 'Payments not enabled for this application.'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                      - type: 'payment-agreement-recall'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'failed'
                        reason:
                          code: 'agreement-business-validate-error'
                          title: 'Agreement business validate error'
                          detail: 'Application is not enabled for payments with required provider.'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                      - type: 'payment-agreement-recall'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                        relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        status: 'in-progress'
                        reason:
                          code: 'external-provider-error'
                          title: 'External provider error'
                          detail: 'The external provider has returned a failed status. Please contact support.'
                        links:
                          self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                          payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"                                    
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions?limit=24&filter=instruction.date.eq('2022-03-21')&next=RmllbGQxXlZhbHVlMX5GaWVsZDJeVmFsdWUy"
                      next: "https://au-api.basiq.io/payments/agreements/instructions?limit=24&filter=instruction.date.eq('2022-03-21')&next=U29tZXRoaW5nM15PdGhlcjN-U29tZXRoaW5nNF5PdGhlcjQ="
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid agreement id:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Invalid request content
                        code: invalid-content
                        detail: Agreement ID value is not valid.
                        source: null
                Invalid filter:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Parameter value is not valid
                        code: parameter-not-valid
                        detail: The provided filter parameter is in invalid format or unsupported
                        source:
                          parameter: 'filter'
                Invalid next:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Parameter value is not valid
                        code: parameter-not-valid
                        detail: Invalid query parameter value
                        source:
                          parameter: 'next'
                Invalid limit:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Parameter value is not valid
                        code: parameter-not-valid
                        detail: Limit value is not valid
                        source:
                          parameter: 'limit'
        '404':
          description: not found
  /payments/agreements/instructions/{instructionId}:
    get:
      tags:
        - Payment Agreements
      summary: Get payment agreement instruction
      operationId: getPaymentAgreementInstruction
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: instructionId
          in: path
          description: Instruction Id
          required: true
          schema:
            type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/agreement-instruction'
              examples:
                Agreement Creation | in-progress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'in-progress'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"                     
                Agreement Creation | successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'successful'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Creation | failed | Payer PayID type and value mismatch:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'failed'
                      reason: 
                          title: 'Payer PayID type and value mismatch'
                          code: 'payer-payid-type-value-mismatch'
                          detail: 'Payer PayID value does not match the type specified.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        payId: 'abc@test.com'
                        payIdType: 'phone-number'
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Creation | failed | Payee PayID type and value mismatch:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'failed'
                      reason:
                          title: 'Payee PayID type and value mismatch'
                          code: 'payee-payid-type-value-mismatch'
                          detail: 'Payee PayID value does not match the type specified.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        payId: 'abc@test.com'
                        payIdType: 'phone-number'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Creation | failed | Payee account cannot receive fast payments:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'failed'
                      reason:
                          title: 'Payee account cannot receive fast payments'
                          code: 'payee-account-cannot-receive-fast-payments'
                          detail: 'The payee account cannot receive fast payments.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Creation | failed | Invalid bank account details:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'failed'
                      reason:
                          title: 'Invalid bank account details'
                          code: 'invalid-bank-account'
                          detail: 'The payee bank account details are incorrect.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Creation | failed | Fraud check rejection:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'failed'
                      reason:
                          title: 'Fraud check rejection'
                          code: 'fraud-check-rejection'
                          detail: 'Request rejected due to fraud check.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Creation | failed | Payer bank cannot process fast payments:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'failed'
                      reason:
                          title: 'Payer bank cannot process fast payments'
                          code: 'payer-bank-cannot-process-fast-payments'
                          detail: 'The payer account cannot process fast payments.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Creation | failed | Payee bank cannot process fast payments:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-creation'
                      id: 'aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2022-03-21T20:29:22.378Z'
                      updated: '2022-03-21T20:29:22.378Z'
                      status: 'failed'
                      reason:
                          title: 'Payee bank cannot process fast payments'
                          code: 'payee-bank-cannot-process-fast-payments'
                          detail: 'The payee bank cannot process fast payments.'
                      payer:
                        userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        accountId: "31824ad0-73f1-0138-3700-0a58a9feac09"
                        type: 'person'
                        ultimatePayerName: 'John'
                      payee:
                        bankBranchCode: '730002'
                        accountNumber: '123456789'
                        name: 'Gavin'
                        type: 'person'
                        ultimatePayeeName: 'Gavin'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      paymentTerms:
                        maximumAmount: 100.50
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        job: "https://au-api.basiq.io/jobs/aa1e2cd3-c6a7-4106-af2c-1e34c0047e8c"
                        payment-agreement: "https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09"
                Agreement Status Change | Suspend | in-progress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-status'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                      changeStatusTo: 'suspend'
                      changeStatusReason: 'narrative'
                      changeStatusDescription: 'Customer has paused their subscription'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Status Change | Suspend | successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-status'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'successful'
                      changeStatusTo: 'suspend'
                      changeStatusReason: 'narrative'
                      changeStatusDescription: 'Customer has paused their subscription'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Status Change | Suspend | failed | invalid transition - current status same as target status:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-status'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason:
                        code: 'invalid-agreement-status-transition'
                        title: 'Invalid agreement status transition.'
                        detail: 'The agreement status can not be updated from suspended to suspended.'
                      changeStatusTo: 'suspend'
                      changeStatusReason: 'narrative'
                      changeStatusDescription: 'Customer has paused their subscription'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Status Change | Suspend | failed | invalid transition - any transition is forbidden for cancelled instructions:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-status'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason:
                        code: 'invalid-agreement-status-transition'
                        title: 'Invalid agreement status transition.'
                        detail: 'The agreement status can not be updated from cancelled to suspended.'
                      changeStatusTo: 'suspend'
                      changeStatusReason: 'narrative'
                      changeStatusDescription: 'Customer has paused their subscription'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Amendment | in-progress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: '48777765-231b-4cb8-9430-98881b1b6a55'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2000-01-01T12:00:00Z'
                      updated: '2000-01-01T12:00:00Z'
                      status: 'in-progress'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      payer:
                        name: 'Gavin Belson'
                        type: 'person'
                        ultimatePayerName: 'Gavin Belson'
                        userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                        payId: 'abc@test.com'
                        payIdType: 'email'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      links:
                        self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                        job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Amendment | successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: '48777765-231b-4cb8-9430-98881b1b6a55'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2000-01-01T12:00:00Z'
                      updated: '2000-01-01T12:00:00Z'
                      status: 'successful'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      payer:
                        name: 'Gavin Belson'
                        type: 'person'
                        ultimatePayerName: 'Gavin Belson'
                        userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                        payId: 'abc@test.com'
                        payIdType: 'email'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      links:
                        self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                        job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Amendment | failed | Payee account cannot receive fast payments:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: '48777765-231b-4cb8-9430-98881b1b6a55'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2000-01-01T12:00:00Z'
                      updated: '2000-01-01T12:00:00Z'
                      status: 'failed'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      reason:
                        title: 'Payee account cannot receive fast payments'
                        code: 'payee-account-cannot-receive-fast-payments'
                        detail: 'The payee account cannot receive fast payments.'
                      payer:
                        name: 'Gavin Belson'
                        type: 'person'
                        ultimatePayerName: 'Gavin Belson'
                        userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                        payId: 'gavin.belson@test.com'
                        payIdType: 'email'
                      payee:
                        name: 'John Johnson'
                        type: 'person'
                        ultimatePayeeName: 'John Johnson'
                        userId: 'cec19de2-f0b1-4234-b867-df9acaff4782'
                        payId: 'john.johnson@test.com'
                        payIdType: 'email'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      links:
                        self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                        job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Amendment | failed | Invalid bank account details:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: '48777765-231b-4cb8-9430-98881b1b6a55'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2000-01-01T12:00:00Z'
                      updated: '2000-01-01T12:00:00Z'
                      status: 'failed'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      reason:
                        title: 'Invalid bank account details'
                        code: 'invalid-bank-account'
                        detail: 'The account provided does not belong to the specified bank.'
                      payer:
                        name: 'Gavin Belson'
                        type: 'person'
                        ultimatePayerName: 'Gavin Belson'
                        userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                        payId: 'abc@test.com'
                        payIdType: 'email'
                      payee:
                        name: 'John Johnson'
                        type: 'person'
                        ultimatePayeeName: 'John Johnson'
                        userId: '7392457b-e307-4e7c-ba39-55d6d30c82f3'
                        payId: 'john.johnson@test.com'
                        payIdType: 'email'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      links:
                        self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                        job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Amendment | failed | Payee bank cannot process fast payments:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: '48777765-231b-4cb8-9430-98881b1b6a55'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2000-01-01T12:00:00Z'
                      updated: '2000-01-01T12:00:00Z'
                      status: 'failed'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      reason:
                        title: 'Payee bank cannot process fast payments'
                        code: 'payee-bank-cannot-process-fast-payments'
                        detail: 'The payee bank cannot process fast payments.'
                      payer:
                        name: 'Gavin Belson'
                        type: 'person'
                        ultimatePayerName: 'Gavin Belson'
                        userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                        payId: 'abc@test.com'
                        payIdType: 'email'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      links:
                        self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                        job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Amendment | failed | Fraud check rejection:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-amendment'
                      id: '48777765-231b-4cb8-9430-98881b1b6a55'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      created: '2000-01-01T12:00:00Z'
                      updated: '2000-01-01T12:00:00Z'
                      status: 'failed'
                      agreementId: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      reason:
                        title: 'Fraud check rejection'
                        code: 'fraud-check-rejection'
                        detail: 'Request rejected due to fraud check.'
                      payer:
                        name: 'Gavin Belson'
                        type: 'person'
                        ultimatePayerName: 'Gavin Belson'
                        userId: '01734b96-23f1-40d8-b2d8-b340b200d499'
                        payId: 'gavin.belson@test.com'
                        payIdType: 'email'
                      payee:
                        name: 'John Johnson'
                        type: 'person'
                        ultimatePayeeName: 'John Johnson'
                        userId: 'cec19de2-f0b1-4234-b867-df9acaff4782'
                        payId: 'john.johnson@test.com'
                        payIdType: 'email'
                      shortDescription: 'Manly investment property'
                      description: 'Mortgage repayments for Manly investment property'
                      purpose: 'mortgage-payments'
                      links:
                        self: 'https://au-api.basiq.io/payments/agreements/instructions/48777765-231b-4cb8-9430-98881b1b6a55'
                        job: 'https://au-api.basiq.io/jobs/48777765-231b-4cb8-9430-98881b1b6a55'
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                Agreement Instruction Recall | successful:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'successful'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                        related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Agreement Instruction Recall | in-progress:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                    links:
                      self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                      payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Agreement Instruction Recall | failed | Instruction is complete - impossible to recall:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason:
                        code: 'agreement-business-validate-error'
                        title: 'Agreement business validate error'
                        detail: 'The instruction is complete and cannot be recalled.'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                        related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Agreement Instruction Recall | failed | Instruction not found:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason:
                        code: 'agreement-business-validate-error'
                        title: 'Agreement business validate error'
                        detail: 'Instruction not found'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                        related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Agreement Instruction Recall | failed | Internal server error:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason:
                        code: 'agreement-business-validate-error'
                        title: 'Agreement business validate error'
                        detail: 'Internal server error'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                        related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Agreement Instruction Recall | failed | Payments not enabled for application:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason:
                        code: 'agreement-business-validate-error'
                        title: 'Agreement business validate error'
                        detail: 'Payments not enabled for this application.'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                        related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Agreement Instruction Recall | failed | Application is not enabled for payments with required provider:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'failed'
                      reason:
                        code: 'agreement-business-validate-error'
                        title: 'Agreement business validate error'
                        detail: 'Application is not enabled for payments with required provider.'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                        related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
                Agreement Instruction Recall | failed | External provider error:
                  value:
                    agreement-instruction:
                      type: 'payment-agreement-recall'
                      id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      agreementId: 'abc24ad0-73f1-0138-3700-0a58a9feacab'
                      relatedInstructionId: 'def24ad0-73f1-0138-3700-0a58a9feadef'
                      created: '2022-03-21T20:28:22.378Z'
                      updated: '2022-03-21T20:28:22.378Z'
                      status: 'in-progress'
                      reason:
                        code: 'external-provider-error'
                        title: 'External provider error'
                        detail: 'The external provider has returned a failed status. Please contact support.'
                      links:
                        self: "https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        job: "https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09"
                        payment-agreement: 'https://au-api.basiq.io/payments/agreements/b1824ad0-73f1-0138-3700-0a58a9feac09'
                        related-instruction: "https://au-api.basiq.io/payments/agreements/instructions/def24ad0-73f1-0138-3700-0a58a9feadef"
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid content in request body:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Invalid request content
                        code: invalid-content
                        detail: Posted request data is not in valid format.
                Invalid agreement instruction id:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        type: error
                        code: parameter-not-valid
                        title: Parameter not valid.
                        detail: Instruction ID is not valid.
                        source:
                          parameter: 'instructionId'
        '404':
          description: not found
  /payments/agreements/instructions/creation:
    post:
      tags:
        - Payment Agreements
      summary: Create agreement
      operationId: createAgreement
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      requestBody:
        $ref: '#/components/requestBodies/agreement-creation'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Agreement Creation:
                  value:
                    type: job
                    id: b1824ad0-73f1-0138-3700-0a58a9feac09
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                      agreement-instruction: https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid content in request body:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        code: invalid-content
                        title: Invalid request content
                        detail: Posted request data is not in valid format.
                Missing reason details: # TODO check if we should leave this here
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        code: 'missing-reason-details'
                        title: 'Missing reason details.'
                        detail: 'Please specify reason and description for cancellation/suspension.'
  /payments/agreements/instructions/{id}/recall:
    post:
      tags:
        - Payment Agreements
      summary: Recall a pending agreement instruction
      operationId: recallAgreementInstruction
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: id
          in: path
          description: Instruction Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      requestBody:
        $ref: '#/components/requestBodies/agreement-instructon-recall'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Instruction Recall:
                  value:
                    type: job
                    id: '23decadc-30d1-46a8-93d9-fe6b2234f196'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: 'https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      agreement-instruction: 'https://au-api.basiq.io/payments/agreements/instructions/23decadc-30d1-46a8-93d9-fe6b2234f196'
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid content in request body:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Invalid request content
                        code: invalid-content
                        detail: Posted request data is not in valid format.
                Invalid agreement instruction id:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        type: error
                        code: parameter-not-valid
                        title: Parameter not valid.
                        detail: Instruction ID is not valid.
                        source:
                          parameter: 'instructionId'
        '404':
          description: not found
  /payments/agreements/{id}/instructions/status:
    post:
      tags:
        - Payment Agreements
      summary: Amend agreement status
      operationId: amendAgreementStatus
      description: >
        ![Beta](https://img.shields.io/badge/Status-Beta-yellow)
      parameters:
        - name: id
          in: path
          description: Agreement Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      requestBody:
        $ref: '#/components/requestBodies/agreement-status'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Agreement Status Change:
                  value:
                    type: job
                    id: b1824ad0-73f1-0138-3700-0a58a9feac09
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09/
                      agreement-instruction: https://au-api.basiq.io/payments/agreements/instructions/b1824ad0-73f1-0138-3700-0a58a9feac09
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid content in request body:
                  value:
                    type: list
                    correlationId: 752b5a1b-ea70-4f8c-805c-e2de5c267653
                    data:
                      - type: error
                        title: Invalid request content
                        code: invalid-content
                        detail: Posted request data is not in valid format.
        '404':
          description: not found
  /payments/payrequests:
    post:
      tags:
        - Collect
      summary: Submit payrequests
      operationId: submitPayrequests
      requestBody:
        $ref: '#/components/requestBodies/payrequests'
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/jobs'
              examples:
                Single Payment Request:
                  value:
                    jobs:
                      - type: job
                        id: b1824ad0-73f1-0138-3700-0a58a9feac09
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        links:
                          self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Multiple Payment Requests:
                  value:
                    jobs:
                    - type: job
                      id: b1824ad0-73f1-0138-3700-0a58a9feac09
                      requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      links:
                        self: https://au-api.basiq.io/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                    - type: job
                      id: c29824ad0-73f1-0138-3700-0a58a9feac10
                      requestId: 12824ad0-73f1-0138-3700-0a58a9feac09
                      links:
                        self: https://au-api.basiq.io/jobs/c29824ad0-73f1-0138-3700-0a58a9feac10
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                Invalid amount:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: Amount value is not valid.
                      source:
                        pointer: '/payrequests[0]/amount'
                Invalid payerBankBranchCode:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: payerBankBranchCode is not valid.
                      source:
                        pointer: '/payrequests[0]/payerBankBranchCode'
                Invalid payerAccountNumber:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: parameter-not-valid
                      title: Parameter not valid.
                      detail: payerAccountNumber is not valid.
                      source:
                        pointer: '/payrequests[0]/payerAccountNumber'
                Duplicate request:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: resource-already-exists
                      title: Resource already exists.
                      detail: A resource with the same Request ID already exists.
                      source:
                        pointer: '/payrequests[0]/requestId'
                Duplicate request within the same message:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: resource-already-exists
                      title: Resource already exists.
                      detail: A resource with the same Request ID already exists in this request.
                      source:
                        pointer: '/payrequests[0]/requestId'
                Bulk limit exceeded:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: maximum-count-exceeded
                      title: Maximum count exceeded.
                      detail: The request has exceeded the maximum count.
                      source: null
                Payments not enabled:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: payments-not-enabled
                      title: Payments not enabled.
                      detail: Payments not enabled for this application.
                      source: null
                Invalid content:
                  value:
                    type: list
                    correlationId: ac5ah5i
                    data:
                    - id: '01824ad0-73f1-0138-3700-0a58a9feac09'
                      type: error
                      code: invalid-content
                      title: Invalid request content.
                      detail: Posted requests data is not in valid format.
                      source: null
      security:
          - payment_apiKey: []
    get:
      tags:
        - Collect
      summary: List payrequests
      operationId: listPayrequests
      parameters:
        - name: limit
          in: query
          description: 'Maximum number of payment requests included in the response. Max value = 500 and is the default value if this field is not provided'
          style: deepObject
          explode: false
          schema:
            type: integer
          example: '10'
        - name: filter
          in: query
          description: 'Filter field that allows filtering by payer.user.id, status, date, amount'
          style: deepObject
          explode: false
          schema:
            type: string
          example: ''
      responses:
        '404':
          description: not found
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payrequests'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 2
                    size: 2
                    data:
                      - type: 'payrequest'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payer:
                          payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payerBankBranchCode: '730002'
                          payerAccountNumber: '123456789'
                          payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Investment'
                        amount: 173.45
                        currency: AUD
                        links:
                          self: '/payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payrequest'
                        id: 'c1024ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: 'a1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payer:
                          payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payerBankBranchCode: '730002'
                          payerAccountNumber: '123456789'
                          payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Investment'
                        amount: 173.45
                        currency: AUD
                        links:
                          self: '/payments/payrequests/c1024ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/c1024ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: "https://au-api.basiq.io/payments/payrequests"
                      next: "https://au-api.basiq.io/payments/payrequests?next=049fde"
      security:
          - payment_apiKey: []
  /payments/payrequests/{id}:
    get:
      tags:
        - Collect
      summary: Retrieve Payrequest
      operationId: getPayrequest
      parameters:
        - name: id
          in: path
          description: Payment request Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payrequest'
              examples:
                In-progress:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'in-progress'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - User name invalid:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason:
                      code: 'invalid-user-name'
                      title: 'Invalid user name.'
                      detail: 'The user name must exist and have a valid first name with more than 2 letters and last name with more than 2 letters. Please update the user name details.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Missing payer account details:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason:
                      code: 'missing-payer-account-details'
                      title: 'Missing Payer account details.'
                      detail: 'Please specify payer account details.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - External provider unreachable:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason:
                      code: 'external-provider-unreachable'
                      title: 'External provider unreachable.'
                      detail: 'Unable to reach downstream provider.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Payment transaction limit reached:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason:
                      code: 'transaction-limit-reached'
                      title: 'Transaction limit reached.'
                      detail: 'The transaction amount exceeds the allowed limit. Please contact support.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Daily limit reached:
                  value:
                    type: 'payrequest'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: 'batch'
                    status: 'failed'
                    reason:
                      code: 'daily-limit-reached'
                      title: 'Daily limit reached.'
                      detail: 'The transaction amount exceeds the daily processing allowed limit. Please contact support.'
                    payer:
                      payerUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                      payerAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: 'Investment'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payrequests/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
        '404':
          description: Payment request not found
  /payments/payouts:
    get:
      tags:
        - Send
      summary: List payouts
      operationId: listPayouts
      parameters:
        - name: limit
          in: query
          description: 'Maximum number of payouts included in the response. Max value = 500 and is the default value if this field is not provided'
          style: deepObject
          explode: false
          schema:
            type: integer
          example: '10'
        - name: filter
          in: query
          description: 'Filter field that allows filtering by payer.user.id, status, date, amount'
          style: deepObject
          explode: false
          schema:
            type: string
          example: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payouts'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 2
                    size: 2
                    data:
                      - type: 'payout'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payee:
                          payeeUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payeeBankBranchCode: '730002'
                          payeeAccountNumber: '123456789'
                          payeeAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Dividends'
                        amount: 173.45
                        currency: AUD
                        links:
                          self: '/payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/b1824ad0-73f1-0138-3700-0a58a9feac09'
                      - type: 'payout'
                        id: 'c1024ad0-73f1-0138-3700-0a58a9feac09'
                        requestId: 'a1824ad0-73f1-0138-3700-0a58a9feac09'
                        created: '2022-03-21T20:28:22.378Z'
                        updated: '2022-03-21T20:28:22.378Z'
                        method: batch
                        status: 'in-progress'
                        payee:
                          payeeUserId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                          payeeBankBranchCode: '730002'
                          payeeAccountNumber: '123456789'
                          payeeAccountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                        description: 'Dividends'
                        amount: 200.45
                        currency: AUD
                        links:
                          self: '/payments/payouts/c1024ad0-73f1-0138-3700-0a58a9feac09'
                          job: '/jobs/c1024ad0-73f1-0138-3700-0a58a9feac09'
                    links:
                      self: "https://au-api.basiq.io/payments/payouts"
                      next: "https://au-api.basiq.io/payments/payouts?next=049fde"
                    '404':
                      description: Resource Not Found.
  /payments/payouts/{id}:
    get:
      tags:
        - Send
      summary: Retrieve Payout
      operationId: getPayout
      parameters:
        - name: id
          in: path
          description: Payout Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payout'
              examples:
                In-progress:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'in-progress'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeAccountId: '6466df03-b80c-489a-afec-ea8c5f0af875'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - User name invalid:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason:
                      code: 'invalid-user-name'
                      title: 'Invalid user name.'
                      detail: 'The user name must exist and have a valid first name with more than 2 letters and last name with more than 2 letters. Please update the user name details.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Missing payer account details:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason:
                      code: 'missing-payer-account-details'
                      title: 'Missing Payer account details.'
                      detail: 'Please specify payer account details.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - External provider unreachable:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason:
                      code: 'external-provider-unreachable'
                      title: 'External provider unreachable.'
                      detail: 'Unable to reach downstream provider.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Payment transaction limit reached:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason:
                      code: 'transaction-limit-reached'
                      title: 'Transaction limit reached.'
                      detail: 'The transaction amount exceeds the allowed limit. Please contact support.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
                Failed - Daily limit reached:
                  value:
                    type: 'payout'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    created: '2022-03-21T20:28:22.378Z'
                    updated: '2022-03-21T20:28:22.378Z'
                    method: batch
                    status: 'failed'
                    reason:
                      code: 'daily-limit-reached'
                      title: 'Daily limit reached.'
                      detail: 'The transaction amount exceeds the daily processing allowed limit. Please contact support.'
                    payee:
                      payeeUserId: '4198c70f-210f-433f-b4a0-912ae64bb572'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                    description: 'Dividends'
                    amount: 173.45
                    currency: AUD
                    links:
                      self: /payments/payouts/b1824ad0-73f1-0138-3700-0a58a9feac09
                      job: /jobs/b1824ad0-73f1-0138-3700-0a58a9feac09
        '404':
          description: Payout not found
  /payments/float-accounts/{id}:
    get:
      tags:
        - Float accounts
      summary: Retrieve Float account
      operationId: getFloatAccount
      parameters:
        - name: id
          in: path
          description: Float Account Id
          required: true
          style: simple
          explode: false
          schema:
            type: string
            default: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
      responses:
        '404':
          description: Float account not found
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/floataccount'
              examples:
                response:
                  value:
                    type: 'floataccount'
                    id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                    bankBranchCode: '802919'
                    accountNumber: '1748212'
                    availableBalance: 10000.00
                    status: 'active'
                    links:
                      self: /payments/float-accounts/b1824ad0-73f1-0138-3700-0a58a9feac09
  /payments/float-accounts:
    get:
      tags:
        - Float accounts
      summary: List float accounts
      operationId: listFloatAccounts
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/floataccounts'
              examples:
                response:
                  value:
                    type: 'list'
                    count: 1
                    size: 1
                    data:
                        type: 'floataccount'
                        id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                        bankBranchCode: '802919'
                        accountNumber: '1748212'
                        availableBalance: 10000.00
                        status: 'active'
                        links:
                          self: /payments/float-accounts/b1824ad0-73f1-0138-3700-0a58a9feac09
                    links:
                      self: /payments/float-accounts/
        '404':
          description: Resource not found.
components:
  schemas:
    agreement-instruction:
      type: object
      properties:
        type:
          description: type of the object within Basiq platform
          type: string
          example: 'payment-agreement-validation'
        id:
          description: Id of the agreement
          type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '01824ad0-73f1-0138-3700-0a58a9feac09'
        agreementId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '12824ad0-73f1-0138-3700-0a58a9feac12'
        relatedInstructionId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '34924ad0-73f1-0138-3700-0a58a9feac34'
        created:
          description: date and time in ISO format of when the instruction was created
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the instruction was updated
          type: string
          format: date-time
        status:
          type: string
        reason:
          type: object
          description: 'Details for the reason for failure'
          properties:
            code:
              type: string
              description: 'Reason code for the failed payment'
            title:
              type: string
              description: 'Title of the reason code for the failed payment (short description)'
            detail:
              type: string
              description: 'Further details/description for the failed/rejected/returned payment'
        payer:
          type: object
          required:
            - payerUserId
            - payerType
            - ultimatePayerName
          properties:
            userId:
              description: 'User Id of the payer'
              type: string
              example: '21824ad0-73f1-0138-3700-0a58a9feac09'
            accountId:
              description: 'ID of the account as stored within Basiq'
              type: string
              example: "31824ad0-73f1-0138-3700-0a58a9feac09"
            payId:
              description: 'The Pay ID of the payer user'
              type: string
            payIdType:
              description: 'Type of the Pay ID being used'
              type: string
              enum:
                - phone-number
                - email
                - business-number
                - organisation-id
            payIdName:
              description: 'Name associated with the PayID as retrieved from the lookup'
              type: string
            bankBranchCode:
              description: 'Bank and branch code (e.g. bsb) of the account'
              type: string
              example: "730002"
            accountNumber:
              description: 'Payer account number'
              type: string
              example: "123456789"
            type:
              description: 'Identifies the type of the payer'
              type: string
              enum:
                - person
                - organisation
            ultimatePayerName:
              description: 'Name of the ultimate payer'
              type: string
        payee:
          type: object
          required:
            - type
            - ultimatePayeeName
          properties:
            bankBranchCode:
              type: string
            accountNumber:
              type: string
            name:
              type: string
            type:
              type: string
            ultimatePayerName:
              type: string
        shortDescription:
          type: string
        paymentTerms:
          type: object
          properties:
            maximumAmount: 
              type: string
    agreement-instructions:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/agreement-instruction'
        links:
          type: object
          properties:
            self:
              type: string
            next:
              type: string
    agreements:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          type: array
          items:
           $ref: '#/components/schemas/agreement'
        links:
          type: object
          properties:
            self:
              type: string
            next:
              type: string
    agreement:
      type: object
      properties:
        type:
          description: type of the object within Basiq platform
          type: string
          example: 'payment-agreement'
        id:
          description: Id of the agreement
          type: string
          example: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
          type: string
          example: '01824ad0-73f1-0138-3700-0a58a9feac09'
        payer:
          type: object
          required:
            - payerUserId
            - payerType
            - ultimatePayerName
          properties:
            userId:
              description: 'User Id of the payer'
              type: string
              example: '21824ad0-73f1-0138-3700-0a58a9feac09'
            accountId:
              description: 'ID of the account as stored within Basiq'
              type: string
              example: "31824ad0-73f1-0138-3700-0a58a9feac09"
            payId:
              description: 'The Pay ID of the payer user'
              type: string
            payIdType:
              description: 'Type of the Pay ID being used'
              type: string
              enum:
                - phone-number
                - email
                - business-number
                - organisation-id
            payIdName:
              description: 'Name associated with the PayID as retrieved from the lookup'
              type: string
            bankBranchCode:
              description: 'Bank and branch code (e.g. bsb) of the account'
              type: string
              example: "730002"
            accountNumber:
              description: 'Payer account number'
              type: string
              example: "123456789"
            type:
              description: 'Identifies the type of the payer'
              type: string
              enum:
                - person
                - organisation
            ultimatePayerName:
              description: 'Name of the ultimate payer'
              type: string
        payee:
          type: object
          required:
            - type
            - ultimatePayeeName
        shortDescription:
          type: string
        description:
          type: string
    jobs:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/job'
        links:
          type: object
          properties:
            self:
              type: string
            next:
              type: string
    job:
      type: object
      properties:
        type:
          type: string
        id:
          type: string
        created:
          description: date and time in ISO format of when the job request was created
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the job request was updated
          type: string
          format: date-time
        steps:
          type: array
          items:
            type: object
            properties:
              title:
                type: object
              status:
                type: object
              result:
                type: object
                properties:
                  type:
                    type: string
        links:
          type: object
          properties:
            link:
              type: string
    payrequests:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/payrequest'
        links:
          type: object
          properties:
            self:
              type: string
            next:
              type: string
    payrequest:
      type: object
      required:
        - type
        - id
        - requestId
        - created
        - updated
        - method
        - status
        - amount
        - currency
        - payer
        - description
      properties:
        type:
          description: Type of the object
          type: string
        id:
          description: Id as assigned by Basiq to uniquely identify the payment
          type: string
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique
          type: string
        created:
          description: date and time in ISO format of when the payment request was created
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the payment request was updated
          type: string
          format: date-time
        method:
          description: "method (payment instrument) used associated with the type of payment"
          type: string
          enum:
            - batch
    # fast
        status:
          type: string
        reason:
          type: object
          description: 'Details for the reason for failure'
          properties:
            code:
              type: string
              description: 'Reason code for the failed payment'
            title:
              type: string
              description: 'Title of the reason code for the failed payment (short description)'
            detail:
              type: string
              description: 'Further details/description for the failed/rejected/returned payment'
        payer:
          type: object
          required:
            - payerUserId
          properties:
            payerUserId:
              description: 'User Id of the payer'
              type: string
            payerBankBranchCode:
              type: string
            payerAccountNumber:
              type: string
            payerAccountId:
              description: 'Account Id of the payer user'
              type: string
        description:
          description: "Description to appear on the payer's and payee's account"
          type: string
        amount:
          description: 'Amount of the payment. This amount must always be a float value.'
          type: number
        currency:
          description: 'Currency of the payment.'
          type: string
        links:
          type: object
          properties:
            self:
              type: string
            job:
              type: string
    payouts:
      type: object
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          type: array
          items:
            $ref: '#/components/schemas/payout'
        links:
          type: object
          properties:
            self:
              type: string
            next:
              type: string
    payout:
      type: object
      required:
        - type
        - id
        - requestId
        - created
        - updated
        - method
        - status
        - amount
        - currency
        - payee
        - description
      properties:
        type:
          description: Type of the object
          type: string
        id:
          description: Id as assigned by Basiq to uniquely identify the payment
          type: string
        requestId:
          description: Id as assigned by the by the partner application. This needs to be unique
          type: string
        created:
          description: date and time in ISO format of when the payment request was created
          type: string
          format: date-time
        updated:
          description: date and time in ISO format of when the payment request was updated
          type: string
          format: date-time
        method:
          description: "method (payment instrument) used associated with the type of payment"
          type: string
          enum:
            - batch
            - fast
        status:
          type: string
        reason:
          type: object
          description: 'Details for the reason for failure'
          properties:
            code:
              type: string
              description: 'Reason code for the failed payment'
            title:
              type: string
              description: 'Title of the reason code for the failed payment (short description)'
            detail:
              type: string
              description: 'Further details/description for the failed/rejected/returned payment'
        payee:
          type: object
          properties:
            payeeUserId:
              type: string
            payeeAccountId:
              type: string
            payeeBankBranchCode:
              type: string
            payeeAccountNumber:
              type: string
        description:
          description: "Description to appear on the payer's and payee's account"
          type: string
        amount:
          description: 'Amount of the payment.'
          type: number
        currency:
          description: 'Currency of the payment.'
          type: string
        links:
          type: object
          properties:
            self:
              type: string
            job: 
              type: string
    floataccounts:
      properties:
        type:
          type: string
        count:
          type: integer
        size:
          type: integer
        data:
          allOf:
          - $ref: '#/components/schemas/floataccount'
        links:
          type: object
          properties:
            self:
              type: string
            next:
              type: string
    floataccount:
      type: object
      required:
        - type
        - id
        - bankBranchCode
        - accountNumber
        - status
        - availableBalance
      properties:
        type:
          description: Type of the object
          type: string
        id:
          description: Id as assigned by Basiq to uniquely identify the float account
          type: string
        status:
          type: string
        bankBranchCode:
          type: string
        accountNumber:
          type: string
        availableBalance:
          description: 'Balance of the float account.'
          type: number
        links:
          type: object
          properties:
            self:
              type: string
  requestBodies:
    agreement-creation:
      content:
        application/json:
          schema:
            type: object
            required:
              - requestId
              - payer
              - purpose
            properties:
              requestId:
                description: Id as assigned by the by the partner application. This needs to be unique and is used to check duplicates
                type: string
                example: '01824ad0-73f1-0138-3700-0a58a9feac09'
              payer:
                type: object
                required:
                  - userId
                  - type
                  - ultimatePayerName
                properties:
                  userId:
                    description: 'User Id of the payer'
                    type: string
                    example: '21824ad0-73f1-0138-3700-0a58a9feac09'
                  accountId:
                    description: 'ID of the account as stored within Basiq'
                    type: string
                    example: "31824ad0-73f1-0138-3700-0a58a9feac09"
                  payId:
                    description: 'The Pay ID of the payer user'
                    type: string
                  payIdType:
                    description: 'Type of the Pay ID being used'
                    type: string
                    enum:
                      - phone-number
                      - email
                      - business-number
                      - organisation-id
                  bankBranchCode:
                    description: 'Bank and branch code (e.g. bsb) of the account'
                    type: string
                    example: "730002"
                  accountNumber:
                    description: 'Payer account number'
                    type: string
                    example: "123456789"
                  type:
                    description: 'Identifies the type of the payer'
                    type: string
                    enum:
                      - person
                      - organisation
                  ultimatePayerName:
                    description: 'Name of the ultimate payer'
                    type: string
              payee:
                type: object
                required:
                  - type
                  - ultimatePayeeName
                properties:
                  payId:
                    description: 'The Pay ID of the payee user'
                    type: string
                  payIdType:
                    description: 'Type of the Pay ID being used'
                    type: string
                    enum:
                      - phone-number
                      - email
                      - business-number
                      - organisation-id
                  bankBranchCode:
                    description: 'Bank and branch code (e.g. bsb) of the account'
                    type: string
                    example: "730002"
                  accountNumber:
                    description: 'Payee account number'
                    type: string
                    example: "123456789"
                  type:
                    description: 'Identifies the type of the payee'
                    type: string
                    enum:
                      - person
                      - organisation
                  ultimatePayeeName:
                    description: 'Name of the ultimate payee'
                    type: string
              shortDescription:
                description: short description of the agreement e.g. ABC Energy Bill
                type: string
              description:
                description: detailed description of the agreement e.g. ABC Energy Bill for Unit 1 at somewhere st
                type: string
              purpose:
                description: Purpose of the agreement being establishment for which types of payments
                type: string
                enum:
                  - mortgage-payments
                  - utility-payments
                  - loan-payments
                  - dependant-support-payments
                  - gambling-payments
                  - retail-payments
                  - salary-payments
                  - personal-payment
                  - government-payments
                  - pension-payments
                  - tax-payments
                  - other-service-payments
              respondByDateTime:
                description: 'date and time in ISO format of when the payer should respond to the agreement request. By default if not supplied this will be 5 days'
                type: string
                format: date-time
              paymentTerms:
                description: Set of fields to dictate the payment terms of the agreement
                type: object
                properties:
                  maximumAmount:
                    description: the maximum amount to be specified in each payment instruction relating to this agreement
                    type: number
                    maximum: 10000
                    minimum: 1
          examples:
            Payment Agreement | Payer with Pay ID:
              value:
                agreement:
                  requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  payer:
                    userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                    payId: jon@gmail.com
                    payIdType: email
                    type: 'person'
                    ultimatePayerName: 'John'
                  payee:
                    payId: gavin@gmail.com
                    payIdType: email
                    name: "Gavin"
                    type: 'person'
                    ultimatePayeeName: 'Gavin'
                  shortDescription: 'Manly investment property'
                  description: 'Mortgage repayments for Manly investment property'
                  purpose: 'mortgage-payments'
                  respondByDateTime: '2022-03-25T20:28:22.378Z'
                  paymentTerms:
                    maximumAmount: 2010.50
            Payment Agreement | Payer with Bank Account:
              value:
                agreement:
                  requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  payer:
                    userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                    bankBranchCode: "013001"
                    accountNumber: "987654321"
                    type: 'person'
                    ultimatePayerName: 'John'
                  payee:
                    payId: gavin@gmail.com
                    payIdType: email
                    name: "Gavin"
                    type: 'person'
                    ultimatePayeeName: 'Gavin'
                  shortDescription: 'Manly investment property'
                  description: 'Mortgage repayments for Manly investment property'
                  purpose: 'mortgage-payments'
                  respondByDateTime: '2022-03-25T20:28:22.378Z'
                  paymentTerms:
                    maximumAmount: 2010.50
            Payment Agreement | Payer with Basiq Account ID:
              value:
                agreement:
                  requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  payer:
                    userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                    accountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                    type: 'person'
                    ultimatePayerName: 'John'
                  payee:
                    bankBranchCode: "730002"
                    accountNumber: "123456789"
                    name: "Gavin"
                    type: 'person'
                    ultimatePayeeName: 'Gavin'
                  shortDescription: 'Manly investment property'
                  description: 'Mortgage repayments for Manly investment property'
                  purpose: 'mortgage-payments'
                  respondByDateTime: '2022-03-25T20:28:22.378Z'
                  paymentTerms:
                    maximumAmount: 2010.50
            Payment Agreement | Without Payee:
              value:
                agreement:
                  type: 'payment-agreement'
                  id: 'b1824ad0-73f1-0138-3700-0a58a9feac09'
                  requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                  created: '2022-03-21T20:28:22.378Z'
                  updated: '2022-03-21T20:28:22.378Z'
                  status: 'valid'
                  payer:
                    userId: '21824ad0-73f1-0138-3700-0a58a9feac09'
                    accountId: '31824ad0-73f1-0138-3700-0a58a9feac09'
                    type: 'person'
                    ultimatePayerName: 'John'
                  shortDescription: 'Manly investment property'
                  description: 'Mortgage repayments for Manly investment property'
                  purpose: 'mortgage-payments'
                  respondByDateTime: '2022-03-25T20:28:22.378Z'
                  paymentTerms:
                    maximumAmount: 2010.50
    agreement-status:
      content:
        application/json:
          schema:
            type: object
            required:
              - requestId
              - status
            properties:
              requestId:
                description: Id as assigned by the by the partner application for this instruction. This needs to be unique and is used to check duplicates
                type: string
                example: '01824ad0-73f1-0138-3700-0a58a9feac09'
              status:
                type: string
                description: the new status to be used. Suspend an angreement, release a suspended agreement or cancel the agreement
                enum:
                  - cancel
                  - release
                  - suspend
              reason:
                type: string
                description: the reason for changing the status
                enum:
                  - invalid-debtor-account-number
                  - closed-account-number
                  - closed-debtor-account-number
                  - blocked-account
                  - invalid-debtor-account-type
                  - transaction-forbidden
                  - transaction-not-supported
                  - not-allowed-currency
                  - invalid-amount
                  - amount-exceeds-agreed-limit
                  - contract-amended
                  - contract-cancellation-initiated-by-debtor
                  - contract-expired
                  - mandate-suspended-final-collection
                  - mandate-suspended-once-off-collection
                  - end-customer-deceased
                  - no-mandate-service-by-agent
                  - no-mandate-service-on-customer
                  - requested-by-customer
                  - requested-by-initiating-party
                  - mandate-expired
                  - mandate-cancelled-due-to-fraud
                  - not-specified-reason-customer-generated
                  - not-specified-reason-agent-generated
                  - mandate-suspended-7-consecutive-unsuccessful-collections
                  - narrative
                  - no-answer-from-customer
                  - regulatory-reason
                  - specific-service-offered-by-debtor-agent
                  - creditor-not-on-whitelist-of-debtor
                  - creditor-on-blacklist-of-debtor
              description:
                type: string
                description: narrative text for the reason of changing the status


          examples:
            Cancel Agreement:
              value:
                requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                status: 'cancel'
                reason: 'end-customer-deceased'
                description: 'Customer deceased'
            Suspend Agreement:
              value:
                requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                status: 'suspend'
                reason: 'requested-by-customer'
                description: 'Termination of service by customer'

            Release Agreement:
              value:
                requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                status: 'release'
    agreement-instructon-recall:
      content:
        application/json:
          schema:
            type: object
            required:
              - requestId
            properties:
              requestId:
                description: Id as assigned by the by the partner application for this instruction. This needs to be unique and is used to check duplicates
                type: string
                example: '01824ad0-73f1-0138-3700-0a58a9feac09'
          examples:
            Recall Agreement Instruction:
              value:
                requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
    payrequests:
      content:
        application/json:
          schema:
            type: object
            properties:
              payrequests:
                type: array
                items:
                  type: object
                  required:
                    - requestId
                    - amount
                    - description
                  properties:
                    method:
                      description: Payment method fast (NPP), batch (DE) - defaults to batch if not provided
                      type: string
                      enum:
                        - batch
                        - fast
                      default: batch
                    requestId:
                      description: Id as assigned by the by the partner application. This needs to be unique
                      type: string
                      example: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    payer:
                      type: object
                      required:
                        - payerUserId
                      properties:
                        payerUserId:
                          description: 'User Id of the payer'
                          type: string
                          example: '21824ad0-73f1-0138-3700-0a58a9feac09'
                        payerBankBranchCode:
                          description: 'Bank and branch code (e.g. bsb) of the account'
                          type: string
                          example: "730002"
                        payerAccountNumber:
                          description: 'Payer account number'
                          type: string
                          example: "123456789"
                    description:
                      description: "Description to appear on the payer's and payee's account."
                      type: string
                      example: 'Investment'
                    amount:
                      description: 'Amount of the payment.'
                      type: number
                      example: '173.45'
                    agreementId:
                      description: 'Id of the agreement to be used. Required only for fast payments.'
                      type: string
                    reference:
                      description: 'Business reference'
                      type: string
                    payee:
                      type: object
                      required:
                        - payeeType
                        - ultimatePayeeName                   
                      properties:
                        payId:
                          description: 'The Pay ID of the payee user'
                          type: string
                        payIdType:
                          description: 'Type of the Pay ID being used'
                          type: string
                          enum:
                            - phone-number
                            - email
                            - business-number
                            - organisation-id
                        bankBranchCode:
                          description: 'Bank and branch code (e.g. bsb) of the account'
                          type: string
                          example: "730002"
                        accountNumber:
                          description: 'Payee account number'
                          type: string
                          example: "123456789"
                        type:
                          description: 'Identifies the type of the payee'
                          type: string
                          enum:
                            - person
                            - organization
                        ultimatePayeeName:
                          description: 'Name of the ultimate payee'
                          type: string
                    collectFundsToFloat:
                      description: 'When passed this value overrides the default setting'
                      type: boolean
                      example: false
                    checkAccountBalance:
                      description: 'When set to true then as part of validating the payrequest the account balance will be checked. If the balance < payrequest amount then it will be rejected'
                      type: boolean
                      example: false
          examples:
            Single | Batch | Method not provided (implicitly defaults to batch):
              description: 'If no method is provided, defaults to batch'
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    description: Investment
                    amount: 173.45           
            Single | Batch | Only required fields included:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method: 'batch'
                    description: Investment
                    amount: 173.45           
            Single | Batch | Payer required details included:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method: 'batch'
                    payer:
                      payerUserId: 21824ad0-73f1-0138-3700-0a58a9feac09
                    description: Investment
                    amount: 173.45
            Single | Batch with collect to float set to true | Payer details included:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method: 'batch'
                    payer:
                      payerUserId: 21824ad0-73f1-0138-3700-0a58a9feac09 # TODO why is this required
                      payerBankBranchCode: '730002'
                      payerAccountNumber: '123456789'
                    description: Investment
                    amount: 173.45
                    collectFundsToFloat: true
            Single | Batch | Check account balance set to true:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method: 'batch'
                    payer:
                      payerUserId: 21824ad0-73f1-0138-3700-0a58a9feac09
                    description: Investment
                    amount: 173.45
                    checkAccountBalance: true
            Single | Fast | Payee not provided:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    type: 'fast'
                    agreementId: '44824ad0-73f1-0138-3700-0a58a9feac44'
                    reference: 'INV-001'
                    description: Investment
                    amount: 173.45
            Single | Fast | Payee provided:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    type: 'fast'
                    agreementId: '44824ad0-73f1-0138-3700-0a58a9feac44'
                    reference: 'INV-001'
                    description: Investment
                    amount: 173.45
                    payee:
                      type: 'person'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                      ultimatePayeeName: 'Gavin Belson'
            Multiple | Batch and Fast:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method: 'batch'
                    description: 'Investment no. 1'
                    amount: 173.45
                  - requestId: '5967307c-51f7-49df-8d63-2d2a765b6265'
                    method: 'fast'
                    description: 'Investment no. 2'
                    agreementId: '44824ad0-73f1-0138-3700-0a58a9feac44'
                    amount: 34.56
                    reference: 'INV-001'
            Multiple | Batch:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method: 'batch'
                    reference: 'INV-001'
                    description: 'Investment'
                    amount: 173.45
                    payee:
                      type: 'person'
                      payId: 'gavin@gmails.com'
                      payIdType: 'email'
                      ultimatePayeeName: 'Gavin'
                  - requestId: '7583ec11-4261-4761-a3f9-9d68eff9cc90'
                    reference: 'INV-002'
                    description: 'Investment'
                    amount: 173.45
            Multiple | Fast:
              value:
                payrequests:
                  - requestId: '01824ad0-73f1-0138-3700-0a58a9feac09'
                    method: 'fast'
                    agreementId: '44824ad0-73f1-0138-3700-0a58a9feac44'
                    reference: 'INV-001'
                    description: 'Investment'
                    amount: 173.45
                  - requestId: '7583ec11-4261-4761-a3f9-9d68eff9cc90'
                    method: 'fast'
                    agreementId: '44824ad0-73f1-0138-3700-0a58a9feac44'
                    reference: 'INV-002'
                    description: 'Investment'
                    amount: 173.45
                    payee:
                      type: 'person'
                      payeeBankBranchCode: '730002'
                      payeeAccountNumber: '123456789'
                      ultimatePayeeName: 'Gavin Belson'
  securitySchemes:
    payment_apiKey:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - payment_apiKey: []
x-readme:
  explorer-enabled: true
  proxy-enabled: true
  samples-enabled: true
  samples-languages:
    - curl
    - node
    - ruby
    - javascript
    - python
